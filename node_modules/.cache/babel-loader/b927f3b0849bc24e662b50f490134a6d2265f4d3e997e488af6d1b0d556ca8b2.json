{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import\"./AdSignInForm.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function AdSignInForm(){const navigate=useNavigate();const[showForgotPassword,setShowForgotPassword]=useState(false);const[showVerificationPopup,setShowVerificationPopup]=useState(false);const[showResetPasswordPopup,setShowResetPasswordPopup]=useState(false);const handleSubmit=async event=>{event.preventDefault();const idNumber=event.target.idNumber.value;const password=event.target.password.value;try{const response=await fetch('http://localhost:8080/admin/signin',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({idNumber,password})});if(response.ok){const data=await response.json();localStorage.setItem('adminToken',data.token);localStorage.setItem('loggedInAdmin',JSON.stringify({adminId:data.adminId,adminname:data.adminname,fullName:data.fullName,email:data.email,idNumber:data.idNumber,profilePicture:data.profilePicture// Store the profile picture URL\n}));navigate(\"/adhome\");}else{const message=await response.text();alert(\"Login failed: \".concat(message));}}catch(error){console.error('Error:',error);alert('An error occurred. Please try again.');}};const handleForgotPasswordClick=()=>{setShowForgotPassword(true);};const handleCloseForgotPassword=()=>{setShowForgotPassword(false);};const handleSendCodeClick=()=>{setShowForgotPassword(false);setShowVerificationPopup(true);};const handleCloseVerificationPopup=()=>{setShowVerificationPopup(false);};const handleVerifyClick=()=>{setShowVerificationPopup(false);setShowResetPasswordPopup(true);};const handleCloseResetPasswordPopup=()=>{setShowResetPasswordPopup(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"signin-form\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"ID Number \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"idNumber\",required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Password \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"SIGN IN\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"forgot-password\",onClick:handleForgotPasswordClick,children:\"Forgot Password?\"})]}),showForgotPassword&&/*#__PURE__*/_jsx(\"div\",{className:\"forgot-password-popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:handleCloseForgotPassword,children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Forgot Password\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Enter email address\",/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendCodeClick,children:\"Send Code\"})]})}),showVerificationPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"verification-popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:handleCloseVerificationPopup,children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Enter Verification Code\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Verification Code\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"verificationCode\",required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"small-button\",children:\"Resend Code\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleVerifyClick,children:\"Verify\"})]})}),showResetPasswordPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"reset-password-popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:handleCloseResetPasswordPopup,children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Enter New Password\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"New Password\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"newPassword\",required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h2\",{children:\"Confirm Password\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Confirm Password\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"confirmPassword\",required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCloseResetPasswordPopup,children:\"Reset Password\"})]})})]});}","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdSignInForm","navigate","showForgotPassword","setShowForgotPassword","showVerificationPopup","setShowVerificationPopup","showResetPasswordPopup","setShowResetPasswordPopup","handleSubmit","event","preventDefault","idNumber","target","value","password","response","fetch","method","headers","body","JSON","stringify","ok","data","json","localStorage","setItem","token","adminId","adminname","fullName","email","profilePicture","message","text","alert","concat","error","console","handleForgotPasswordClick","handleCloseForgotPassword","handleSendCodeClick","handleCloseVerificationPopup","handleVerifyClick","handleCloseResetPasswordPopup","children","onSubmit","className","type","name","required","onClick"],"sources":["/Users/richardmolina/Documents/GitHub/ADMIN_TECHHIVE_FRONTEND/src/admin pages/ADSignIn/AdSignInForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./AdSignInForm.css\";\n\nexport default function AdSignInForm() {\n  const navigate = useNavigate();\n  const [showForgotPassword, setShowForgotPassword] = useState(false);\n  const [showVerificationPopup, setShowVerificationPopup] = useState(false);\n  const [showResetPasswordPopup, setShowResetPasswordPopup] = useState(false);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const idNumber = event.target.idNumber.value;\n    const password = event.target.password.value;\n\n    try {\n      const response = await fetch('http://localhost:8080/admin/signin', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ idNumber, password }),\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        localStorage.setItem('adminToken', data.token);\n        localStorage.setItem('loggedInAdmin', JSON.stringify({\n          adminId: data.adminId,\n          adminname: data.adminname,\n          fullName: data.fullName,\n          email: data.email,\n          idNumber: data.idNumber,\n          profilePicture: data.profilePicture, // Store the profile picture URL\n        }));\n        navigate(\"/adhome\");\n      } else {\n        const message = await response.text();\n        alert(`Login failed: ${message}`);\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      alert('An error occurred. Please try again.');\n    }\n  };\n\n  const handleForgotPasswordClick = () => {\n    setShowForgotPassword(true);\n  };\n\n  const handleCloseForgotPassword = () => {\n    setShowForgotPassword(false);\n  };\n\n  const handleSendCodeClick = () => {\n    setShowForgotPassword(false);\n    setShowVerificationPopup(true);\n  };\n\n  const handleCloseVerificationPopup = () => {\n    setShowVerificationPopup(false);\n  };\n\n  const handleVerifyClick = () => {\n    setShowVerificationPopup(false);\n    setShowResetPasswordPopup(true);\n  };\n\n  const handleCloseResetPasswordPopup = () => {\n    setShowResetPasswordPopup(false);\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} className=\"signin-form\">\n        <label>\n          ID Number <br />\n          <input type=\"text\" name=\"idNumber\" required />\n        </label>\n        <br />\n        <label>\n          Password <br />\n          <input type=\"password\" name=\"password\" required />\n        </label>\n        <br />\n        <button type=\"submit\">SIGN IN</button>\n        <br />\n        <span \n          className=\"forgot-password\" \n          onClick={handleForgotPasswordClick}>\n          Forgot Password?\n        </span>\n      </form>\n\n      {showForgotPassword && (\n        <div className=\"forgot-password-popup\">\n          <div className=\"popup-content\">\n            <button className=\"close-button\" onClick={handleCloseForgotPassword}>\n              &times;\n            </button>\n            <h2>Forgot Password</h2>\n            <label>\n              Enter email address\n              <input type=\"email\" name=\"email\" required />\n            </label>\n            <br />\n            <button onClick={handleSendCodeClick}>Send Code</button>\n          </div>\n        </div>\n      )}\n\n      {showVerificationPopup && (\n        <div className=\"verification-popup\">\n          <div className=\"popup-content\">\n            <button className=\"close-button\" onClick={handleCloseVerificationPopup}>\n              &times;\n            </button>\n            <h2>Enter Verification Code</h2>\n            <label>\n              Verification Code\n              <input type=\"text\" name=\"verificationCode\" required />\n            </label>\n            <br />\n            <button className=\"small-button\">Resend Code</button>\n            <br />\n            <button onClick={handleVerifyClick}>Verify</button>\n          </div>\n        </div>\n      )}\n\n      {showResetPasswordPopup && (\n        <div className=\"reset-password-popup\">\n          <div className=\"popup-content\">\n            <button className=\"close-button\" onClick={handleCloseResetPasswordPopup}>\n              &times;\n            </button>\n            <h2>Enter New Password</h2>\n            <label>\n              New Password\n              <input type=\"password\" name=\"newPassword\" required />\n            </label>\n            <br />\n            <h2>Confirm Password</h2>\n            <label>\n              Confirm Password\n              <input type=\"password\" name=\"confirmPassword\" required />\n            </label>\n            <br />\n            <button onClick={handleCloseResetPasswordPopup}>Reset Password</button>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE5B,cAAe,SAAS,CAAAC,YAAYA,CAAA,CAAG,CACrC,KAAM,CAAAC,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACS,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGX,QAAQ,CAAC,KAAK,CAAC,CACnE,KAAM,CAACY,qBAAqB,CAAEC,wBAAwB,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CACzE,KAAM,CAACc,sBAAsB,CAAEC,yBAAyB,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAE3E,KAAM,CAAAgB,YAAY,CAAG,KAAO,CAAAC,KAAK,EAAK,CACpCA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtB,KAAM,CAAAC,QAAQ,CAAGF,KAAK,CAACG,MAAM,CAACD,QAAQ,CAACE,KAAK,CAC5C,KAAM,CAAAC,QAAQ,CAAGL,KAAK,CAACG,MAAM,CAACE,QAAQ,CAACD,KAAK,CAE5C,GAAI,CACF,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,oCAAoC,CAAE,CACjEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEV,QAAQ,CAAEG,QAAS,CAAC,CAC7C,CAAC,CAAC,CAEF,GAAIC,QAAQ,CAACO,EAAE,CAAE,CACf,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAR,QAAQ,CAACS,IAAI,CAAC,CAAC,CAClCC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAEH,IAAI,CAACI,KAAK,CAAC,CAC9CF,YAAY,CAACC,OAAO,CAAC,eAAe,CAAEN,IAAI,CAACC,SAAS,CAAC,CACnDO,OAAO,CAAEL,IAAI,CAACK,OAAO,CACrBC,SAAS,CAAEN,IAAI,CAACM,SAAS,CACzBC,QAAQ,CAAEP,IAAI,CAACO,QAAQ,CACvBC,KAAK,CAAER,IAAI,CAACQ,KAAK,CACjBpB,QAAQ,CAAEY,IAAI,CAACZ,QAAQ,CACvBqB,cAAc,CAAET,IAAI,CAACS,cAAgB;AACvC,CAAC,CAAC,CAAC,CACH/B,QAAQ,CAAC,SAAS,CAAC,CACrB,CAAC,IAAM,CACL,KAAM,CAAAgC,OAAO,CAAG,KAAM,CAAAlB,QAAQ,CAACmB,IAAI,CAAC,CAAC,CACrCC,KAAK,kBAAAC,MAAA,CAAkBH,OAAO,CAAE,CAAC,CACnC,CACF,CAAE,MAAOI,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAC9BF,KAAK,CAAC,sCAAsC,CAAC,CAC/C,CACF,CAAC,CAED,KAAM,CAAAI,yBAAyB,CAAGA,CAAA,GAAM,CACtCpC,qBAAqB,CAAC,IAAI,CAAC,CAC7B,CAAC,CAED,KAAM,CAAAqC,yBAAyB,CAAGA,CAAA,GAAM,CACtCrC,qBAAqB,CAAC,KAAK,CAAC,CAC9B,CAAC,CAED,KAAM,CAAAsC,mBAAmB,CAAGA,CAAA,GAAM,CAChCtC,qBAAqB,CAAC,KAAK,CAAC,CAC5BE,wBAAwB,CAAC,IAAI,CAAC,CAChC,CAAC,CAED,KAAM,CAAAqC,4BAA4B,CAAGA,CAAA,GAAM,CACzCrC,wBAAwB,CAAC,KAAK,CAAC,CACjC,CAAC,CAED,KAAM,CAAAsC,iBAAiB,CAAGA,CAAA,GAAM,CAC9BtC,wBAAwB,CAAC,KAAK,CAAC,CAC/BE,yBAAyB,CAAC,IAAI,CAAC,CACjC,CAAC,CAED,KAAM,CAAAqC,6BAA6B,CAAGA,CAAA,GAAM,CAC1CrC,yBAAyB,CAAC,KAAK,CAAC,CAClC,CAAC,CAED,mBACEV,KAAA,CAAAE,SAAA,EAAA8C,QAAA,eACEhD,KAAA,SAAMiD,QAAQ,CAAEtC,YAAa,CAACuC,SAAS,CAAC,aAAa,CAAAF,QAAA,eACnDhD,KAAA,UAAAgD,QAAA,EAAO,YACK,cAAAlD,IAAA,QAAK,CAAC,cAChBA,IAAA,UAAOqD,IAAI,CAAC,MAAM,CAACC,IAAI,CAAC,UAAU,CAACC,QAAQ,MAAE,CAAC,EACzC,CAAC,cACRvD,IAAA,QAAK,CAAC,cACNE,KAAA,UAAAgD,QAAA,EAAO,WACI,cAAAlD,IAAA,QAAK,CAAC,cACfA,IAAA,UAAOqD,IAAI,CAAC,UAAU,CAACC,IAAI,CAAC,UAAU,CAACC,QAAQ,MAAE,CAAC,EAC7C,CAAC,cACRvD,IAAA,QAAK,CAAC,cACNA,IAAA,WAAQqD,IAAI,CAAC,QAAQ,CAAAH,QAAA,CAAC,SAAO,CAAQ,CAAC,cACtClD,IAAA,QAAK,CAAC,cACNA,IAAA,SACEoD,SAAS,CAAC,iBAAiB,CAC3BI,OAAO,CAAEZ,yBAA0B,CAAAM,QAAA,CAAC,kBAEtC,CAAM,CAAC,EACH,CAAC,CAEN3C,kBAAkB,eACjBP,IAAA,QAAKoD,SAAS,CAAC,uBAAuB,CAAAF,QAAA,cACpChD,KAAA,QAAKkD,SAAS,CAAC,eAAe,CAAAF,QAAA,eAC5BlD,IAAA,WAAQoD,SAAS,CAAC,cAAc,CAACI,OAAO,CAAEX,yBAA0B,CAAAK,QAAA,CAAC,MAErE,CAAQ,CAAC,cACTlD,IAAA,OAAAkD,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBhD,KAAA,UAAAgD,QAAA,EAAO,qBAEL,cAAAlD,IAAA,UAAOqD,IAAI,CAAC,OAAO,CAACC,IAAI,CAAC,OAAO,CAACC,QAAQ,MAAE,CAAC,EACvC,CAAC,cACRvD,IAAA,QAAK,CAAC,cACNA,IAAA,WAAQwD,OAAO,CAAEV,mBAAoB,CAAAI,QAAA,CAAC,WAAS,CAAQ,CAAC,EACrD,CAAC,CACH,CACN,CAEAzC,qBAAqB,eACpBT,IAAA,QAAKoD,SAAS,CAAC,oBAAoB,CAAAF,QAAA,cACjChD,KAAA,QAAKkD,SAAS,CAAC,eAAe,CAAAF,QAAA,eAC5BlD,IAAA,WAAQoD,SAAS,CAAC,cAAc,CAACI,OAAO,CAAET,4BAA6B,CAAAG,QAAA,CAAC,MAExE,CAAQ,CAAC,cACTlD,IAAA,OAAAkD,QAAA,CAAI,yBAAuB,CAAI,CAAC,cAChChD,KAAA,UAAAgD,QAAA,EAAO,mBAEL,cAAAlD,IAAA,UAAOqD,IAAI,CAAC,MAAM,CAACC,IAAI,CAAC,kBAAkB,CAACC,QAAQ,MAAE,CAAC,EACjD,CAAC,cACRvD,IAAA,QAAK,CAAC,cACNA,IAAA,WAAQoD,SAAS,CAAC,cAAc,CAAAF,QAAA,CAAC,aAAW,CAAQ,CAAC,cACrDlD,IAAA,QAAK,CAAC,cACNA,IAAA,WAAQwD,OAAO,CAAER,iBAAkB,CAAAE,QAAA,CAAC,QAAM,CAAQ,CAAC,EAChD,CAAC,CACH,CACN,CAEAvC,sBAAsB,eACrBX,IAAA,QAAKoD,SAAS,CAAC,sBAAsB,CAAAF,QAAA,cACnChD,KAAA,QAAKkD,SAAS,CAAC,eAAe,CAAAF,QAAA,eAC5BlD,IAAA,WAAQoD,SAAS,CAAC,cAAc,CAACI,OAAO,CAAEP,6BAA8B,CAAAC,QAAA,CAAC,MAEzE,CAAQ,CAAC,cACTlD,IAAA,OAAAkD,QAAA,CAAI,oBAAkB,CAAI,CAAC,cAC3BhD,KAAA,UAAAgD,QAAA,EAAO,cAEL,cAAAlD,IAAA,UAAOqD,IAAI,CAAC,UAAU,CAACC,IAAI,CAAC,aAAa,CAACC,QAAQ,MAAE,CAAC,EAChD,CAAC,cACRvD,IAAA,QAAK,CAAC,cACNA,IAAA,OAAAkD,QAAA,CAAI,kBAAgB,CAAI,CAAC,cACzBhD,KAAA,UAAAgD,QAAA,EAAO,kBAEL,cAAAlD,IAAA,UAAOqD,IAAI,CAAC,UAAU,CAACC,IAAI,CAAC,iBAAiB,CAACC,QAAQ,MAAE,CAAC,EACpD,CAAC,cACRvD,IAAA,QAAK,CAAC,cACNA,IAAA,WAAQwD,OAAO,CAAEP,6BAA8B,CAAAC,QAAA,CAAC,gBAAc,CAAQ,CAAC,EACpE,CAAC,CACH,CACN,EACD,CAAC,CAEP","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}